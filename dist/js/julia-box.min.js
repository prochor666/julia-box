var JuliaBoxItem=function(e){var o=this;e="undefined"==typeof e?{}:e;var n=Math.floor(1e7*Math.random()+1);return o.options={autoplay:!1,autoplayControls:!1,attr:"href",collection:$("a[data-julia-box] img"),debug:!1,i18n:{close:"Close",next:"Next",previous:"Previous",errorIframe:"Error, content not loaded",errorImage:"Error, image not loaded",errorInline:"Error, element not found"},iframeWidthLimit:1280,item:{},itemIndex:0,onClose:!1,onInit:!1,onNext:!1,onPrevious:!1,overlayClose:!0,root:$("body"),sources:{},thumbs:!1,timeout:5,videoAutoplay:!0},$.extend(!0,o.options,e),o.env={collection:o.options.collection,item:o.options.item,itemIndex:o.options.itemIndex,itemType:"inline",last:o.options.collection.length-1,attr:o.options.attr,root:o.options.root,i18n:o.options.i18n,overflow:o.options.root.css("overflow"),iframeWidthLimit:o.options.iframeWidthLimit,mediaObj:$([]),mediaObjSize:[0,0],instance:{},overlayClose:o.options.overlayClose,videoAutoplay:o.options.videoAutoplay,autoplay:o.options.autoplay,autoplayControls:o.options.autoplayControls,timeout:o.options.timeout,opener:!1,timer:!1,initiator:!1,ID:n,api:{},model:{wrapper:{},content:{},toolbar:{},buttons:{},panels:{},preloader:{}},services:{image:/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,youtube:/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,vimeo:/(vimeo(pro)?\.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,googleMaps:/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,facebookVideo:/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,iframe:/(http|https)?:\/\/[a-zA-Z0-9-\.]+\.[a-z]{2,4}/i}},o.Base={},o.Base.debug=function(e){if(o.options.debug===!0&&window.console)for(d in e)console.log(" - [Julia BOX instance: "+o.env.ID+"] "+d+" ["+typeof e[d]+"]",e[d])},o.options.debug===!0&&window.console&&console.info("=== Julia BOX console debug start, instance "+o.env.ID+" ==="),o.Ui=new o._Ui(o),o.Events=new o._Events(o),o.Callback=new o._Callback(o),o.Support=new o._Support(o),o.Media=new o._Media(o),o.Controls=new o._Controls(o),o.Persist=new o._Persist(o),o.Fullscreen=new o._Fullscreen(o),o.Events.init(),o.options.autoplay===!0,publicApi={ID:o.env.ID,Controls:o.Controls,env:o.env},publicApi},JuliaBox=function(e){e="undefined"==typeof e?{}:e;var o={sources:{},attr:"href",root:$("body")},n=Math.floor(1e7*Math.random()+1);$.extend(!0,o,e);var t=function(e){var o=function(e){return!!(e instanceof jQuery&&e.length||e instanceof HTMLElement)};if(e instanceof HTMLCollection&&e.length){for(var n=0,t=e.length;n<t;n++)if(!o(e[n]))return!1;return!0}return o(e)},i=function(e){var n=$("<a />");return"string"==typeof e&&n.attr(o.attr,e),"object"!=typeof e||t(e)||(e.hasOwnProperty("href")?n.attr(o.attr,e.href):e.hasOwnProperty("src")&&n.attr(o.attr,e.src),e.hasOwnProperty("title")?n.attr("title",e.title):n.attr("title","")),n.css({display:"none"}),n};_collection=$('<div class="---julia-virtual-gallery-'+n+'---" style="display: none;" />');for(index in o.sources)_item=i(o.sources[index]),_collection.append(_item);return o.root.append(_collection),result=_collection.find("a").juliaBox(o),result};JuliaBoxItem.prototype._Callback=function(e){var o=this;o.fn=function(o,n){n=n||{},$.inArray(typeof o,["string","function","object"])>-1?("string"==typeof o&&(o=window[o]),o(e.options,e.env,n),e.Base.debug({Callback:typeof o+" raised"})):e.Base.debug({Callback:typeof o+" is not a function, but: "+typeof o})}},JuliaBoxItem.prototype._Controls=function(e){var o=this;o.press=function(o,n){switch(n=n||{},e.Base.debug({action:o,"action-data":n}),o){case"play":break;case"pause":break;case"next":clearTimeout(e.env.timer),index=e.env.itemIndex+1,index==e.env.collection.length&&(index=0),e.options.onNext!==!1&&e.Callback.fn(e.options.onNext,e.env),e.Events.keysOff(),e.env.instance.remove(),e.env.collection[index].click();break;case"previous":clearTimeout(e.env.timer),index=e.env.itemIndex-1,index==-1&&(index=e.env.collection.length-1),e.options.onPrevious!==!1&&e.Callback.fn(e.options.onPrevious,e.env),e.Events.keysOff(),e.env.instance.remove(),e.env.collection[index].click();break;case"close":clearTimeout(e.env.timer),e.options.onClose!==!1&&e.Callback.fn(e.options.onClose,e.env),e.env.instance.hide(150,function(){e.Events.keysOff(),e.env.instance.remove(),e.env.root.css({overflow:e.env.overflow}),e.env.root.find("[data-julia-box-initiator]").removeData("julia-box-initiator")});break;case"fullscreen-on":break;case"fullscreen-off":}}},JuliaBoxItem.prototype._Events=function(e){var o=this;o.init=function(){e.env.item.on("click",function(o){o.preventDefault(),0==e.Support.initiator()&&e.env.item.data("julia-box-initiator","True"),e.env.root.css({overflow:"hidden"}),e.Ui.create(),e.Events.ui(),$("#julia-box-"+e.env.ID).on("julia.ui-ready",function(){e.Media.getMedia()}),e.options.onInit!==!1&&e.Callback.fn(e.options.onInit,e.env),e.env.model.buttons.close.focus(),e.env.autoplay===!0&&(e.env.timer=setTimeout(function(){e.Controls.press("next")},1e3*e.env.timeout))})},o.keysOff=function(){e.env.root.off("keydown"),e.env.model.buttons.close.off("click"),e.env.model.buttons.previous.off("click"),e.env.model.buttons.next.off("click")},o.ui=function(){e.env.model.content.on("click",function(o){o.stopPropagation(),$(o.target).is(".julia-content")&&e.options.overlayClose===!0&&e.Controls.press("close")}),e.env.model.buttons.close.on("click",function(o){o.preventDefault(),e.Controls.press("close")}),e.env.model.buttons.previous.on("click",function(o){o.preventDefault(),e.Controls.press("previous")}),e.env.model.buttons.next.on("click",function(o){o.preventDefault(),e.Controls.press("next")}),e.env.root.on("keydown",function(o){27===o.keyCode&&e.Controls.press("close"),37===o.keyCode&&e.Controls.press("previous"),39===o.keyCode&&e.Controls.press("next")});var o,n=!1,t=10,i=function(){new Date-o<t?setTimeout(i,t):(n=!1,e.Media.resize())};$(window).on("resize",function(){o=new Date,n===!1&&(n=!0,setTimeout(i,t))})}},JuliaBoxItem.prototype._Fullscreen=function(e){var o=this;o.on=function(o){o.requestFullscreen?o.requestFullscreen():o.msRequestFullscreen?o.msRequestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.webkitRequestFullscreen?o.webkitRequestFullscreen():e.Base.debug({fullscreen:"Fullscreen is not supported"})},o.off=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},o.reset=function(o,n,t){$(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange"),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(i){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(e.Ui.state(o,"julia-fullscreen-off","julia-fullscreen-on"),e.Ui.state(n.buttons.fullscreen,"on","off"),e.Ui.icon(n.buttons.fullscreen,"julia-fullscreen","julia-fullscreen-exit"),e.Base.debug({"fullscreen on":"#julia-player-"+e.env.ID})):(e.Ui.state(o,"julia-fullscreen-on","julia-fullscreen-off"),e.Ui.state(n.buttons.fullscreen,"off","on"),e.Ui.icon(n.buttons.fullscreen,"julia-fullscreen-exit","julia-fullscreen"),e.Base.debug({"fullscreen off":"#julia-player-"+e.env.ID})),e.Support.resize(),setTimeout(function(){w=e.env.api.getAttribute("width"),e.env.instance.find(".julia-progress").width(w),e.env.instance.find(".julia-progress .julia-slider-track").width(w),n.sliders.progress.update(e.Timecode.toPercents(t.currentTime))},5)})}},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(o,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(o)),e(n),n}:e(jQuery)}(function(e){jQuery.fn.juliaBox=function(o){var n=this,t=[];return this.each(function(i){if(!e(this).data("juliabox")){o="undefined"==typeof o?{}:o,o.collection=n,o.item=e(this),o.itemIndex=i;var l=new JuliaBoxItem(o,!0);e(this).data("juliabox",l),t.push(l)}}),t}});